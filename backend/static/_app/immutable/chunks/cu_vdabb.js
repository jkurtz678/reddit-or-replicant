import{s}from"./CI6f0tGy.js";const t=()=>{const e=s;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},a={subscribe(e){return t().page.subscribe(e)}},n={generateUserId(){return"user_"+Math.random().toString(36).substr(2,9)+"_"+Date.now().toString(36)},getUserId(){let e=localStorage.getItem("anonymous_user_id");return e||(e=this.generateUserId(),localStorage.setItem("anonymous_user_id",e),this.registerUser(e).catch(r=>{console.error("Failed to register user:",r)})),e},async registerUser(e){try{if(!(await fetch("/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({anonymous_id:e})})).ok)throw new Error("Failed to register user")}catch(r){console.error("User registration error:",r)}},clearUser(){localStorage.removeItem("anonymous_user_id")}};export{a as p,n as u};
