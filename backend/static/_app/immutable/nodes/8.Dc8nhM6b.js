import"../chunks/DsnmJJEf.js";import"../chunks/Czs3uoK7.js";import{d as Qt,o as Xt,a as Zt,s as k,e as I}from"../chunks/DjEdHHdZ.js";import{t as B,u as Ue,v as ct,a6 as yt,ap as er,I as vt,R as tr,a2 as rr,aq as sr,ar,as as ut,y as ir,at as or,P as $e,E as nr,au as lr,av as dr,aw as cr,ad as v,ax as vr,ay as wt,az as ur,a8 as pr,o as Me,p as fr,an as W,ao as gr,f as R,e as Te,a as _,b as _r,g as e,m as T,d as l,c as r,r as s,s as u,i as ze,n as Pe,Q as pt,ag as Ae}from"../chunks/CSL_G-ra.js";import{i as Y}from"../chunks/CZ6qWho8.js";import{e as ft,i as gt}from"../chunks/D0dqcScj.js";import{s as Ye}from"../chunks/BOe3PIrR.js";import{t as hr,s as Be,a as xr,b as br}from"../chunks/DFvihwEc.js";import{i as mr}from"../chunks/D8J5l3fY.js";import{s as yr,a as wr}from"../chunks/B0RP_nXW.js";import{u as _t,p as kr}from"../chunks/cu_vdabb.js";function Tr(o,a,E=!1,h=!1,P=!1){var p=o,b="";B(()=>{var j=yt;if(b===(b=a()??"")){Ue&&ct();return}if(j.nodes_start!==null&&(er(j.nodes_start,j.nodes_end),j.nodes_start=j.nodes_end=null),b!==""){if(Ue){vt.data;for(var m=ct(),f=m;m!==null&&(m.nodeType!==tr||m.data!=="");)f=m,m=rr(m);if(m===null)throw sr(),ar;ut(vt,f),p=ir(m);return}var N=b+"";E?N=`<svg>${N}</svg>`:h&&(N=`<math>${N}</math>`);var M=or(N);if((E||h)&&(M=$e(M)),ut($e(M),M.lastChild),E||h)for(;$e(M);)p.before($e(M));else p.before(M)}})}function Rr(o,a,E,h){var P=o.__style;if(Ue||P!==a){var p=hr(a);(!Ue||p!==o.getAttribute("style"))&&(p==null?o.removeAttribute("style"):o.style.cssText=p),o.__style=a}return h}const Er=()=>performance.now(),ie={tick:o=>requestAnimationFrame(o),now:()=>Er(),tasks:new Set};function kt(){const o=ie.now();ie.tasks.forEach(a=>{a.c(o)||(ie.tasks.delete(a),a.f())}),ie.tasks.size!==0&&ie.tick(kt)}function Gr(o){let a;return ie.tasks.size===0&&ie.tick(kt),{promise:new Promise(E=>{ie.tasks.add(a={c:o,f:E})}),abort(){ie.tasks.delete(a)}}}function ht(o,a){wt(()=>{o.dispatchEvent(new CustomEvent(a))})}function Sr(o){if(o==="float")return"cssFloat";if(o==="offset")return"cssOffset";if(o.startsWith("--"))return o;const a=o.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(E=>E[0].toUpperCase()+E.slice(1)).join("")}function xt(o){const a={},E=o.split(";");for(const h of E){const[P,p]=h.split(":");if(!P||p===void 0)break;const b=Sr(P.trim());a[b]=p.trim()}return a}const Mr=o=>o;function bt(o,a,E,h){var P=(o&vr)!==0,p="in",b,j=a.inert,m=a.style.overflow,f,N;function M(){return wt(()=>b??=E()(a,h?.()??{},{direction:p}))}var oe={is_global:P,in(){a.inert=j,f?.abort(),ht(a,"introstart"),f=Tt(a,M(),N,1,()=>{ht(a,"introend"),f?.abort(),f=b=void 0,a.style.overflow=m})},out(n){{n?.(),b=void 0;return}},stop:()=>{f?.abort()}},C=yt;if((C.transitions??=[]).push(oe),Qt){var G=P;if(!G){for(var S=C.parent;S&&(S.f&nr)!==0;)for(;(S=S.parent)&&(S.f&lr)===0;);G=!S||(S.f&dr)!==0}G&&cr(()=>{v(()=>oe.in())})}}function Tt(o,a,E,h,P){if(ur(a)){var p,b=!1;return pr(()=>{if(!b){var S=a({direction:"in"});p=Tt(o,S,E,h,P)}}),{abort:()=>{b=!0,p?.abort()},deactivate:()=>p.deactivate(),reset:()=>p.reset(),t:()=>p.t()}}if(!a?.duration)return P(),{abort:Me,deactivate:Me,reset:Me,t:()=>h};const{delay:j=0,css:m,tick:f,easing:N=Mr}=a;var M=[];if(f&&f(0,1),m){var oe=xt(m(0,1));M.push(oe,oe)}var C=()=>1-h,G=o.animate(M,{duration:j,fill:"forwards"});return G.onfinish=()=>{G.cancel();var S=1-h,n=h-S,X=a.duration*Math.abs(n),ne=[];if(X>0){var U=!1;if(m)for(var q=Math.ceil(X/16.666666666666668),Z=0;Z<=q;Z+=1){var he=S+n*N(Z/q),pe=xt(m(he,1-he));ne.push(pe),U||=pe.overflow==="hidden"}U&&(o.style.overflow="hidden"),C=()=>{var $=G.currentTime;return S+n*N($/X)},f&&Gr(()=>{if(G.playState!=="running")return!1;var $=C();return f($,1-$),!0})}G=o.animate(ne,{duration:X,fill:"forwards"}),G.onfinish=()=>{C=()=>h,f?.(h,1-h),P()}},{abort:()=>{G&&(G.cancel(),G.effect=null,G.onfinish=Me)},deactivate:()=>{P=Me},reset:()=>{},t:()=>C()}}const Pr=o=>o;function mt(o,{delay:a=0,duration:E=400,easing:h=Pr}={}){const P=+getComputedStyle(o).opacity;return{delay:a,duration:E,easing:h,css:p=>`opacity: ${p*P}`}}var Ar=R('<div class="flex items-center justify-center min-h-screen"><div class="animate-pulse text-gray-300">Loading post...</div></div>'),Nr=R('<div class="flex items-center justify-center min-h-screen"><div class="text-center"><div class="text-amber-400 mb-4"> </div> <a href="/subreddit" class="px-4 py-2 text-white rounded transition-all duration-200 hover:scale-105" style="background: linear-gradient(135deg, #1e3a8a, #3b82f6); border: 1px solid rgba(0, 212, 255, 0.3);">Choose Community</a></div></div>'),Or=R('<div class="flex items-center gap-2"><span style="color: #00d4ff;">Remaining:</span> <span class="text-gray-200 font-medium"> </span></div>'),Fr=R('<button class="px-2 py-1 text-xs rounded transition-all duration-200 hover:scale-105 cursor-pointer" style="background: rgba(0, 212, 255, 0.2); color: #00d4ff; border: 1px solid rgba(0, 212, 255, 0.3);" title="View your final results">Review Results</button>'),jr=R('<button class="px-2 py-1 text-xs rounded transition-all duration-200 hover:scale-105 cursor-pointer" style="background: rgba(248, 113, 113, 0.2); color: #f87171; border: 1px solid rgba(248, 113, 113, 0.3);" title="Reset all progress on this post">Reset</button>'),Lr=R('<div class="text-gray-200 mb-4 whitespace-pre-wrap content-text"> </div>'),Dr=R('<div class="border-b border-gray-700 p-6"><div class="mb-4"><span class="text-sm" style="color: #00d4ff; text-shadow: 0 0 8px rgba(0, 212, 255, 0.3);"> </span> <span class="text-sm text-gray-400 ml-2"> </span></div> <h1 class="text-2xl font-bold mb-4" style="color: #f3f4f6; text-shadow: 0 0 12px rgba(0, 212, 255, 0.1);"> </h1> <!> <div class="text-sm text-gray-400"> </div></div>'),Ir=R('<span class="font-medium glitch" data-text="REPLICANT">REPLICANT</span>'),qr=R('<span class="font-medium" style="color: #00d4ff; text-shadow: 0 0 8px rgba(0, 212, 255, 0.2);"> </span>'),$r=R('<div class="mb-3 prose prose-invert prose-sm max-w-none text-gray-200 content-text glitch-text"><!></div>'),zr=R('<div class="mb-3 whitespace-pre-wrap text-gray-200 content-text glitch-text"> </div>'),Yr=R('<div class="flex gap-3 items-center"><span class="text-xs text-gray-400">Origin:</span> <button class="px-2 py-1 text-white rounded text-xs transition-all duration-200 hover:scale-105 hover:shadow-lg cursor-pointer" style="background: linear-gradient(135deg, #164e63, #0891b2); border: 1px solid rgba(0, 212, 255, 0.3);">Reddit</button> <button class="px-2 py-1 text-white rounded text-xs transition-all duration-200 hover:scale-105 hover:shadow-lg cursor-pointer" style="background: linear-gradient(135deg, var(--replicant-primary), var(--replicant-secondary)); border: 1px solid var(--replicant-border);">Replicant</button></div>'),Br=R('<span style="color: #4ade80;"> </span>'),Ur=R('<span style="color: #f87171;"> </span>'),Jr=R('<div class="flex gap-3 items-center"><span class="text-xs text-gray-400">Origin:</span> <button disabled> </button> <button disabled> </button> <div class="text-xs ml-2"><!></div></div>'),Vr=R('<div class="comment mb-3 p-3 rounded-lg bg-gray-750"><div class="border-l-2 pl-3" style="border-color: rgba(75, 85, 99, 0.4);"><div class="text-sm text-gray-400 mb-2"><!> <span class="ml-2"> </span></div> <!> <div class="pt-2" style="border-top: 1px solid rgba(75, 85, 99, 0.3);"><!></div></div></div>'),Wr=R('<div class="p-6"><h2 class="text-lg font-semibold mb-4 text-white">Comments</h2> <!></div>'),Cr=R('<div class="fixed top-0 left-0 right-0 z-50 border-b border-gray-700" style="background: rgba(17, 17, 20, 0.95); backdrop-filter: blur(10px);"><div class="max-w-4xl mx-auto px-4 md:px-0 py-3"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><a class="transition-colors flex items-center gap-1" style="color: #00d4ff;">← Back</a> <h1 class="text-lg font-bold" style="color: #f3f4f6; text-shadow: 0 0 8px rgba(0, 212, 255, 0.1);">Reddit or <span class="glitch" data-text="Replicant">Replicant</span>?</h1></div> <div class="flex items-center gap-6 text-sm"><div class="flex items-center gap-2"><span style="color: #4ade80;">✓</span> <span class="text-gray-300"> </span></div> <div class="flex items-center gap-2"><span style="color: #f87171;">✗</span> <span class="text-gray-300"> </span></div> <!> <!></div></div></div></div> <div class="pt-16"><div class="max-w-4xl mx-auto" style="background: rgba(17, 17, 20, 0.85); backdrop-filter: blur(10px); border: 1px solid rgba(55, 65, 81, 0.3); box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);"><!> <!></div></div>',1),Hr=R('<div style="background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(4px);"><div style="background: rgba(17, 17, 20, 0.95); backdrop-filter: blur(10px);"><div class="text-center"><h2 class="text-2xl font-bold mb-6" style="color: #f3f4f6; text-shadow: 0 0 12px rgba(0, 212, 255, 0.1);">Detection <span class="glitch" data-text="Complete">Complete</span></h2> <div class="grid grid-cols-3 gap-6 mb-8"><div class="text-center"><div class="text-3xl font-bold mb-2" style="color: #4ade80;"> </div> <div class="text-sm text-gray-400">Correct</div></div> <div class="text-center"><div class="text-3xl font-bold mb-2" style="color: #f87171;"> </div> <div class="text-sm text-gray-400">Incorrect</div></div> <div class="text-center"><div class="text-3xl font-bold mb-2" style="color: #00d4ff;"> </div> <div class="text-sm text-gray-400">Accuracy</div></div></div> <div class="mb-8 p-4 rounded-lg border border-gray-600" style="background: rgba(31, 31, 35, 0.6);"><p class="text-gray-200 leading-relaxed"> </p></div> <div class="flex justify-end gap-3"><button class="px-4 py-2 text-white rounded transition-all duration-200 hover:scale-105 cursor-pointer" style="background: #4b5563; border: 1px solid #6b7280;">Close</button> <a href="/subreddit" class="px-4 py-2 text-white rounded transition-all duration-200 hover:scale-105 cursor-pointer inline-block text-center" style="background: linear-gradient(135deg, var(--replicant-dark), var(--replicant-light)); border: 1px solid var(--replicant-border);">Next Test</a></div></div></div></div>'),Kr=R('<div class="min-h-screen text-gray-100" style="background: linear-gradient(180deg, #0a0a0b 0%, #111013 100%)"><!></div> <!>',1);function ls(o,a){fr(a,!1);const E=()=>wr(kr,"$page",h),[h,P]=yr(),p=T(),b=T(),j=T(),m=T(),f=T(),N=T(),M=T(),oe=T(),C="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+-=[]{}|\\;:,.<>?/~`";let G=new Map,S=new Map,n=T(null),X=T(!0),ne=T(""),U=T(null),q=T(""),Z=T(!1),he=T(""),pe=T(!1),$=T(!1),Ne=T(!1),Re=T(!1);Xt(async()=>{const t=E().url.searchParams.get("post");t?(l(U,parseInt(t)),await Rt(e(U))):(l(X,!1),l(ne,"No post specified. Visit /subreddit to choose a community."))});async function Rt(t){try{l(X,!0),l(ne,"");const i=await fetch(`/api/mixed-comments/${t}`);if(!i.ok)throw i.status===404?new Error("Post not found"):new Error("Failed to fetch post data");const d=await i.json();l(n,d),l(he,d.post?.subreddit||""),l(z,new Map)}catch(i){l(ne,i.message),console.error(i)}finally{l(X,!1)}}async function Et(){if(!(!e(U)||!e(q)||e(Z)))try{const t=await fetch("/api/users/progress",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({anonymous_id:e(q),post_id:e(U)})});if(!t.ok){console.error("Failed to load user progress");return}const i=await t.json();if(l(Z,!0),i.guesses&&i.guesses.length>0){for(const d of i.guesses)if(e(z).set(d.comment_id,{guessed:!0,correct:d.is_correct,userGuess:d.guess}),e(n)){const O=Oe(e(n).comments).find(J=>J.id===d.comment_id);O&&O.is_ai&&setTimeout(()=>et(d.comment_id,O.content),100)}l(z,e(z))}}catch(t){console.error("Error loading user progress:",t)}}async function Gt(){if(!(!e(U)||!e(q))&&confirm("Are you sure you want to reset your progress on this post? This will clear all your guesses."))try{if(!(await fetch("/api/users/reset-progress",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({anonymous_id:e(q),post_id:e(U)})})).ok)throw new Error("Failed to reset progress");e(z).clear(),l(z,e(z)),l(Z,!1),l(Ne,!1),l(Re,!1),S.forEach(d=>clearTimeout(d)),S.clear(),G.clear(),document.querySelectorAll(".glitch-text").forEach(d=>{d.classList.remove("glitching","glitch")}),alert("Progress reset successfully!")}catch(t){console.error("Error resetting progress:",t),alert("Failed to reset progress. Please try again.")}}function St(t){return t>=.9?"Exceptional. Your detection algorithms are operating at near-human levels. The line between artificial and authentic continues to blur.":t>=.8?"Impressive performance. You've shown remarkable ability to distinguish replicants from humans, but some still slip through undetected.":t>=.7?"Adequate detection rate. Your instincts serve you well, though several replicants have successfully mimicked human discourse.":t>=.6?"Concerning results. The replicants are evolving faster than our ability to detect them. More training is required.":t>=.5?"Barely better than random chance. The replicants have learned to perfectly imitate human communication patterns. We may already be outnumbered.":"Critical failure. Your inability to distinguish humans from replicants poses a significant threat to the mission. Immediate recalibration recommended."}function Ze(){l($,!1),setTimeout(()=>l(pe,!1),300)}function Mt(){l(pe,!0),setTimeout(()=>l($,!0),10)}let z=T(new Map);function Oe(t){const i=[];for(const d of t)i.push(d),i.push(...Oe(d.replies));return i}function Je(t,i=[]){return i.push(t),t.replies&&t.replies.length>0&&t.replies.forEach(d=>{Je(d,i)}),i}function et(t,i){G.set(t,i);const d=document.querySelector(`[data-comment-id="${t}"] .glitch-text`);d&&(d.classList.add("transitioning"),setTimeout(()=>{d.classList.add("glitching"),d.classList.add("glitch"),d.classList.remove("transitioning"),setTimeout(()=>{function O(){const L=(G.get(t)||i).split(""),F=[];L.forEach((K,fe)=>{K.trim()!==""&&F.push(fe)});const H=.01+Math.random()*.03,ee=Math.floor(F.length*H),V=new Set;for(;V.size<ee&&F.length>0;){const K=F[Math.floor(Math.random()*F.length)];V.add(K)}V.forEach(K=>{L[K]=C[Math.floor(Math.random()*C.length)]}),d.textContent=L.join("");const le=800+Math.random()*600,de=setTimeout(O,le);S.set(t,de)}O()},300)},300))}async function tt(t,i,d){const O=i==="replicant"&&d||i==="reddit"&&!d;if(e(z).set(t,{guessed:!0,correct:O,userGuess:i}),l(Re,!0),l(z,e(z)),e(U)&&e(q))try{await fetch("/api/users/guess",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({anonymous_id:e(q),post_id:e(U),comment_id:t,guess:i,is_correct:O})})}catch(J){console.error("Failed to save guess:",J)}if(d){const J=Oe(e(n)?.comments||[]).find(L=>L.id===t);J&&et(t,J.content)}}Zt(()=>{S.forEach(t=>clearTimeout(t)),S.clear(),G.clear()}),W(()=>(e(q),_t),()=>{e(q)||l(q,_t.getUserId())}),W(()=>(e(q),e(U),e(Z)),()=>{e(q)&&e(U)&&!e(Z)&&Et()}),W(()=>e(n),()=>{l(p,e(n)?Oe(e(n).comments).length:0)}),W(()=>e(z),()=>{l(b,Array.from(e(z).values()))}),W(()=>e(b),()=>{l(j,e(b).filter(t=>t.correct).length)}),W(()=>e(b),()=>{l(m,e(b).filter(t=>!t.correct).length)}),W(()=>e(b),()=>{l(f,e(b).length)}),W(()=>(e(p),e(f)),()=>{l(N,e(p)-e(f))}),W(()=>(e(f),e(j)),()=>{l(M,e(f)>0?e(j)/e(f):0)}),W(()=>(e(p),e(N),e(f),e(Ne),e(Re)),()=>{e(p)>0&&e(N)===0&&e(f)>0&&!e(Ne)&&e(Re)&&(setTimeout(()=>{l(pe,!0),setTimeout(()=>l($,!0),10),l(Re,!1)},1e3),l(Ne,!0))}),W(()=>e(n),()=>{l(oe,e(n)?e(n).comments.reduce((t,i)=>t+Je(i).length,0):0)}),gr(),mr();var rt=Kr(),Ve=Te(rt),Pt=r(Ve);{var At=t=>{var i=Ar();_(t,i)},Nt=t=>{var i=ze(),d=Te(i);{var O=L=>{var F=Nr(),H=r(F),ee=r(H),V=r(ee,!0);s(ee),Pe(2),s(H),s(F),B(()=>k(V,e(ne))),_(L,F)},J=L=>{var F=ze(),H=Te(F);{var ee=V=>{var le=Cr(),de=Te(le),K=r(de),fe=r(K),xe=r(fe),Ee=r(xe);Pe(2),s(xe);var be=u(xe,2),me=r(be),Fe=u(r(me),2),je=r(Fe,!0);s(Fe),s(me);var ye=u(me,2),Ge=u(r(ye),2),te=r(Ge,!0);s(Ge),s(ye);var Le=u(ye,2);{var We=x=>{var A=Or(),Q=u(r(A),2),re=r(Q,!0);s(Q),s(A),B(()=>k(re,e(N))),_(x,A)},Ce=x=>{var A=ze(),Q=Te(A);{var re=ce=>{var ge=Fr();I("click",ge,Mt),_(ce,ge)};Y(Q,ce=>{e(f)>0&&ce(re)},!0)}_(x,A)};Y(Le,x=>{e(N)>0?x(We):x(Ce,!1)})}var jt=u(Le,2);{var Lt=x=>{var A=jr();I("click",A,Gt),_(x,A)};Y(jt,x=>{e(f)>0&&x(Lt)})}s(be),s(fe),s(K),s(de);var st=u(de,2),at=r(st),it=r(at);{var Dt=x=>{var A=Dr(),Q=r(A),re=r(Q),ce=r(re);s(re);var ge=u(re,2),De=r(ge);s(ge),s(Q);var Se=u(Q,2),He=r(Se,!0);s(Se);var c=u(Se,2);{var y=_e=>{var we=Lr(),Ke=r(we,!0);s(we),B(()=>k(Ke,(e(n),v(()=>e(n).post.content)))),_(_e,we)};Y(c,_e=>{e(n),v(()=>e(n).post.content)&&_e(y)})}var ve=u(c,2),Ie=r(ve);s(ve),s(A),B(()=>{k(ce,`r/${e(n),v(()=>e(n).post.subreddit)??""}`),k(De,`• Posted by u/${e(n),v(()=>e(n).post.author)??""}`),k(He,(e(n),v(()=>e(n).post.title))),k(Ie,`${e(n),v(()=>e(n).post.score)??""} points • ${e(oe)??""} comments`)}),_(x,A)};Y(it,x=>{e(n),v(()=>e(n).post)&&x(Dt)})}var It=u(it,2);{var qt=x=>{var A=Wr(),Q=u(r(A),2);ft(Q,1,()=>(e(n),v(()=>e(n).comments)),gt,(re,ce)=>{const ge=pt(()=>(e(ce),v(()=>Je(e(ce)))));var De=ze(),Se=Te(De);ft(Se,1,()=>e(ge),gt,(He,c)=>{const y=pt(()=>(e(z),e(c),v(()=>e(z).get(e(c).id))));var ve=Vr(),Ie=r(ve),_e=r(Ie),we=r(_e);{var Ke=w=>{var g=Ir();bt(1,g,()=>mt,()=>({duration:300})),_(w,g)},$t=w=>{var g=qr(),D=r(g);s(g),B(()=>k(D,`u/${e(c),v(()=>e(c).author)??""}`)),_(w,g)};Y(we,w=>{Ae(e(y)),e(c),v(()=>e(y)?.guessed&&e(c).is_ai)?w(Ke):w($t,!1)})}var ot=u(we,2),zt=r(ot);s(ot),s(_e);var nt=u(_e,2);{var Yt=w=>{var g=$r(),D=r(g);Tr(D,()=>(e(c),v(()=>e(c).content_html))),s(g),B(()=>Ye(g,"data-text",(e(c),v(()=>e(c).content)))),_(w,g)},Bt=w=>{var g=zr(),D=r(g,!0);s(g),B(()=>{Ye(g,"data-text",(e(c),v(()=>e(c).content))),k(D,(e(c),v(()=>e(c).content)))}),_(w,g)};Y(nt,w=>{e(c),v(()=>e(c).content_html)?w(Yt):w(Bt,!1)})}var lt=u(nt,2),Ut=r(lt);{var Jt=w=>{var g=Yr(),D=u(r(g),2),ke=u(D,2);s(g),I("mouseenter",D,se=>se.target.style.boxShadow="0 0 15px rgba(0, 212, 255, 0.4)"),I("mouseleave",D,se=>se.target.style.boxShadow=""),I("click",D,()=>tt(e(c).id,"reddit",e(c).is_ai)),I("mouseenter",ke,se=>se.target.style.boxShadow="0 0 15px var(--replicant-glow)"),I("mouseleave",ke,se=>se.target.style.boxShadow=""),I("click",ke,()=>tt(e(c).id,"replicant",e(c).is_ai)),_(w,g)},Vt=w=>{var g=Jr(),D=u(r(g),2);let ke;var se=r(D);s(D);var qe=u(D,2);let dt;var Wt=r(qe);s(qe);var Qe=u(qe,2),Ct=r(Qe);{var Ht=ue=>{var ae=Br(),Xe=r(ae);s(ae),B(()=>k(Xe,`✓ ${e(c),v(()=>e(c).is_ai?"Replicant identified":"Reddit origin confirmed")??""}.`)),_(ue,ae)},Kt=ue=>{var ae=Ur(),Xe=r(ae);s(ae),B(()=>k(Xe,`✗ Detection failed. This ${e(c),v(()=>e(c).is_ai?"was a replicant":"is from Reddit")??""}.`)),_(ue,ae)};Y(Ct,ue=>{Ae(e(y)),v(()=>e(y).correct)?ue(Ht):ue(Kt,!1)})}s(Qe),s(g),B((ue,ae)=>{ke=Be(D,1,"px-2 py-1 rounded text-xs cursor-not-allowed",null,ke,ue),k(se,`Reddit ${Ae(e(y)),v(()=>e(y).userGuess==="reddit"?"✓":"")??""}`),dt=Be(qe,1,"px-2 py-1 rounded text-xs cursor-not-allowed",null,dt,ae),k(Wt,`Replicant ${Ae(e(y)),v(()=>e(y).userGuess==="replicant"?"✓":"")??""}`)},[()=>({"bg-cyan-700":e(y).userGuess==="reddit","bg-gray-600":e(y).userGuess!=="reddit","text-white":e(y).userGuess==="reddit","text-gray-400":e(y).userGuess!=="reddit"}),()=>({"bg-red-700":e(y).userGuess==="replicant","bg-gray-600":e(y).userGuess!=="replicant","text-white":e(y).userGuess==="replicant","text-gray-400":e(y).userGuess!=="replicant"})]),bt(1,Qe,()=>mt,()=>({duration:300,delay:100})),_(w,g)};Y(Ut,w=>{Ae(e(y)),v(()=>!e(y)?.guessed)?w(Jt):w(Vt,!1)})}s(lt),s(Ie),s(ve),B(()=>{Rr(ve,`margin-left: ${e(c),v(()=>e(c).depth*32)??""}px`),Ye(ve,"data-comment-id",(e(c),v(()=>e(c).id))),k(zt,`${e(c),v(()=>e(c).score)??""} points`)}),_(He,ve)}),_(re,De)}),s(A),_(x,A)};Y(It,x=>{e(n),v(()=>e(n).comments&&e(n).comments.length>0)&&x(qt)})}s(at),s(st),B(()=>{Ye(Ee,"href",e(he)?`/subreddit/${e(he)}`:"/subreddit"),k(je,e(j)),k(te,e(m))}),I("mouseenter",Ee,x=>x.target.style.color="#33e0ff"),I("mouseleave",Ee,x=>x.target.style.color="#00d4ff"),_(V,le)};Y(H,V=>{e(n)&&V(ee)},!0)}_(L,F)};Y(d,L=>{e(ne)?L(O):L(J,!1)},!0)}_(t,i)};Y(Pt,t=>{e(X)?t(At):t(Nt,!1)})}s(Ve);var Ot=u(Ve,2);{var Ft=t=>{var i=Hr();let d;var O=r(i);let J;var L=r(O),F=u(r(L),2),H=r(F),ee=r(H),V=r(ee,!0);s(ee),Pe(2),s(H);var le=u(H,2),de=r(le),K=r(de,!0);s(de),Pe(2),s(le);var fe=u(le,2),xe=r(fe),Ee=r(xe);s(xe),Pe(2),s(fe),s(F);var be=u(F,2),me=r(be),Fe=r(me,!0);s(me),s(be);var je=u(be,2),ye=r(je),Ge=u(ye,2);s(je),s(L),s(O),s(i),B((te,Le,We,Ce)=>{d=Be(i,1,"fixed inset-0 flex items-center justify-center z-50 transition-opacity duration-300",null,d,te),J=Be(O,1,"border border-gray-700 rounded-lg p-8 m-4 max-w-2xl w-full transform transition-all duration-300",null,J,Le),k(V,e(j)),k(K,e(m)),k(Ee,`${We??""}%`),k(Fe,Ce)},[()=>({"opacity-0":!e($),"opacity-100":e($)}),()=>({"scale-95":!e($),"opacity-0":!e($),"scale-100":e($),"opacity-100":e($)}),()=>(e(M),v(()=>Math.round(e(M)*100))),()=>(e(M),v(()=>St(e(M))))]),I("click",ye,Ze),I("mouseenter",Ge,te=>te.target.style.boxShadow="0 0 15px var(--replicant-glow)"),I("mouseleave",Ge,te=>te.target.style.boxShadow=""),I("click",O,xr(function(te){br.call(this,a,te)})),I("click",i,Ze),_(t,i)};Y(Ot,t=>{e(pe)&&t(Ft)})}_(o,rt),_r(),P()}export{ls as component};
